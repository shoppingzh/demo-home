import{_ as p,e as g,o as w,c as f,f as S,n as $,p as k,g as C,a as o,h as x,i as L,j as U,b as r,w as _,d as z,u as y}from"./index.364835fe.js";/* empty css                                                          */import{u as E,d as N}from"./file.c124e0ab.js";const V={__name:"index",props:{type:{type:String,default:null},size:{type:String,default:null},disabled:{type:Boolean,default:!1}},emits:["click"],setup(t,{emit:e}){const s=t,c=e,n=g(()=>{const a=[];return s.type&&a.push(`button--${s.type}`),s.size&&a.push(`button--${s.size}`),s.disabled&&a.push("is-disabled"),a}),i=function(){s.disabled||c("click",...arguments)};return(a,d)=>(w(),f("button",{class:$(["button tw-flex tw-items-center tw-justify-center tw-w-12 tw-h-12 tw-rounded-full tw-appearance-none tw-outline-none tw-border-none tw-bg-white tw-text-sm tw-text-gray-700",n.value]),onClick:i},[S(a.$slots,"default",{},void 0,!0)],2))}};var b=p(V,[["__scopeId","data-v-62700584"]]);const A=t=>(k("data-v-b5b5e1be"),t=t(),C(),t),H=A(()=>o("div",{class:"recorder-button__inner tw-bg-red-500 tw-rounded-full tw-transition-all tw-delay-150"},null,-1)),M=[H],O={__name:"RecorderButton",props:{active:{type:Boolean,default:!1}},setup(t){return(e,s)=>(w(),f("div",{class:$(["recorder-button tw-inline-flex tw-items-center tw-justify-center tw-w-16 tw-h-16 tw-cursor-pointer tw-rounded-full tw-border-4 tw-border-gray-400",{"is-active":t.active}])},M,2))}};var T=p(O,[["__scopeId","data-v-b5b5e1be"]]);function P(t){const e=document.createElement("audio");e.src=t;const s=()=>{const c=e.currentTime,n=e.duration;c>=n&&(e.removeEventListener("timeupdate",s),document.body.removeChild(e))};e.addEventListener("timeupdate",s),e.style.display="none",document.body.appendChild(e),e.play()}const v=t=>(k("data-v-020fba7d"),t=t(),C(),t),q={class:"tw-h-full tw-flex tw-flex-col"},D=v(()=>o("div",{class:"tw-px-4 tw-py-6 tw-text-center tw-text-xl tw-font-medium"},[o("span",{class:"title"},"H5\u5F55\u97F3\u80FD\u529B\u5C55\u793A")],-1)),F={class:"tw-flex-1 tw-h-0 tw-py-12"},G={class:"tw-flex tw-flex-col tw-h-full"},J={class:"tw-text-center"},K={class:"tw-w-full tw-h-0 tw-flex-1 tw-mt-10 tw-flex tw-items-end tw-justify-around"},Q=v(()=>o("i",{class:"iconfont icon-xiazai"},null,-1)),W=v(()=>o("i",{class:"iconfont icon-bofang"},null,-1)),X=v(()=>o("i",{class:"iconfont icon-shanchu"},null,-1)),Y={__name:"index",setup(t){const{stream:e,start:s,stop:c}=E({audio:!0}),n=x(!1);let i=null,a=null;const d=x(null),m=g(()=>!!d.value),B=()=>{try{i=[],a=new MediaRecorder(e.value,{}),a.ondataavailable=l=>{i.push(l.data)},a.onstop=()=>{const l=new Blob(i,{type:"audio/mp3"});d.value=URL.createObjectURL(l)},a.start(),n.value=!0}catch(l){console.error(l),n.value=!1}};L(e,l=>{l?B():n.value=!1});const h=()=>{a&&a.stop(),c(),n.value=!1},R=async()=>{if(n.value)return h();s()},I=()=>{URL.revokeObjectURL(d.value),d.value=null};return U(()=>{h()}),(l,u)=>(w(),f("div",q,[D,o("div",F,[o("div",G,[o("div",J,[r(T,{active:n.value,onClick:R},{default:_(()=>[z("hello")]),_:1},8,["active"])]),o("div",K,[r(b,{disabled:!m.value,onClick:u[0]||(u[0]=j=>y(N)(d.value,"\u65B0\u5F55\u97F3.mp3"))},{default:_(()=>[Q]),_:1},8,["disabled"]),r(b,{disabled:!m.value,onClick:u[1]||(u[1]=j=>y(P)(d.value))},{default:_(()=>[W]),_:1},8,["disabled"]),r(b,{disabled:!m.value,onClick:I},{default:_(()=>[X]),_:1},8,["disabled"])])])])]))}};var Z=p(Y,[["__scopeId","data-v-020fba7d"]]);const ee={class:"tw-w-full tw-h-full tw-flex tw-items-center tw-justify-center"},te={class:"wrap tw-bg-white tw-rounded-3xl tw-shadow-2xl"},se={__name:"index",setup(t){return(e,s)=>(w(),f("div",ee,[o("div",te,[r(Z)])]))}};var le=p(se,[["__scopeId","data-v-0aea6bfe"]]);export{le as default};
